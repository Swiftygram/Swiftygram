//
//  SetChatTitle.swift
//  Swiftygram
//  Created by ky1vstar on 7/29/19.
//  Copyright Â© 2019 ky1vstar. All rights reserved.
//

public extension TDFunction {
    /**
     Changes the chat title. Supported only for basic groups, supergroups and channels. Requires administrator rights in basic groups and the appropriate administrator rights in supergroups and channels. The title will not be changed until the request to the server has been completed

     - ReturnType: `TDObject.Ok`
     */
    struct SetChatTitle: TDFunctionProtocol {
        /**
         Type of return value for this function
         */
        public typealias ReturnType = TDObject.Ok

        /**
         Chat identifier
         */
        public var chatId: Int64

        /**
         New title of the chat; 1-128 characters
         */
        public var title: String

        /**
         Changes the chat title. Supported only for basic groups, supergroups and channels. Requires administrator rights in basic groups and the appropriate administrator rights in supergroups and channels. The title will not be changed until the request to the server has been completed

         - Parameter chatId: Chat identifier
         - Parameter title: New title of the chat; 1-128 characters
         */
        public init(chatId: Int64, title: String) {
            self.chatId = chatId
            self.title = title
        }

        // MARK: - Decodable

        public init(from decoder: Decoder) throws {
            let container = try decoder.container(keyedBy: AnyCodingKey.self)

            chatId = try container.decodeInt64(forKey: .init(string: "chatId"))
            title = try container.decode(String.self, forKey: .init(string: "title"))
        }

        // MARK: - Encodable

        public func encode(to encoder: Encoder) throws {
            var container = encoder.container(keyedBy: AnyCodingKey.self)

            try container.encodeInt64(chatId, forKey: .init(string: "chatId"))
            try container.encode(title, forKey: .init(string: "title"))
        }
    }
}
